PLATFORM_INSTALL_PATH=/pfrm2.0
# platform.config - platform configuration
#
# Copyright (c) 2008-2011, TeamF1, Inc.
#
# Copyright (c) 2016, TeamF1 Networks Pvt. Ltd. 
# (Subsidiary of D-Link India)
#
# modification history
# --------------------
# 01s,06feb16,abd  AC Merge : adding some global macros.
# 01r,04nov15,vvs  ported OmniSSL changes to M8
# 01q,19feb13,AS   added auth config script
# 01p,31jan13,nis  added samba321 config script
# 01o,10Sep11,uk   added cfpDaemon.config added
# 01n,21Jun11,uk   added qos.config and deleted bwLimitConfig
# 01m,01jan11,kt   added intelAmt.config
# 01l,20oct10,kt   added captivePortal.config
# 01k,29nov08,smd  added cdp.config.
# 01j,20jul08,rks  added protectlink.config.
# 01i,26jun08,vpp  added bwLimit.config.
# 01h,17jun08,rks  added snort(sam), ips config
# 01g,17may08,gpr  added vipsec
# 01f,14mar08,anp  added nimf.
# 01e,24jan08,sam  added natpt.
# 01d,17jan08,san  added kerberos config.
# 01c,07sep07,sdk  added ifDev config.
# 01b,27aug07,sdk  added firmware config.
# 01a,01jun07,rks  written.

#load the component's default configuration

# Load the default variables 
PRODUCT_MODEL_ID=`/pfrm2.0/bin/printProductData /etc/mtdDevice ModelId |  awk '{print $1}'`
HW_VERSION=`/pfrm2.0/bin/printProductData /etc/mtdDevice HwVer |  awk '{print $1}'`
MODEL_ID=`/pfrm2.0/bin/printProductData /etc/mtdDevice ModelId |  awk '{print $1}'`
/pfrm2.0/bin/lua /pfrm2.0/bin/hwFamilyHandler.lua $HW_VERSION
# For AC devices we will append the HW version also
# It will be a nice catch to get the hardware family in here so that everyone
# will use it
HARDWARE_FAMILY_SERIES=`cat /tmp/hwFamilyVersion | awk '{print $1}'`
PRODUCT_ID=${PRODUCT_MODEL_ID}_${HARDWARE_FAMILY_SERIES}

[ -e ./adaptos.config ] && . ./adaptos.config
[ -e ./umi.config ] && . ./umi.config
[ -e ./natpt.config ] && . ./natpt.config
[ -e ./evtDsptch.config ] && . ./evtDsptch.config
[ -e ./logging.config ] && . ./logging.config
if [ "$MODEL_ID" == "DSR-1000AC" -o "$MODEL_ID" == "DSR-500AC" -o "$PRODUCT_ID" == "DSR-1000_Bx" -o "$PRODUCT_ID" == "DSR-500_Bx" ]; then
[ -e ./usb.config ] && . ./usb.config
fi
[ -e ./udev.config ] && . ./udev.config
[ -e ./kerberos.config ] && . ./kerberos.config
[ -e ./klite.config ] && . ./klite.config
[ -e ./x509.config ] && . ./x509.config
[ -e ./sslim.config ] && . ./sslim.config
[ -e ./sshd.config ] && . ./sshd.config
[ -e ./endChant.config ] && . ./endChant.config
[ -e ./bridgeLib.config ] && . ./bridgeLib.config
[ -e ./pnac.config ] && . ./pnac.config
[ -e ./dot11.config ] && . ./dot11.config
[ -e ./radius.config ] && . ./radius.config
[ -e ./mibctl.config ] && . ./mibctl.config
[ -e ./stp.config ] && . ./stp.config
[ -e ./wlan.config ] && . ./wlan.config
[ -e ./WpsPB.config ] && . ./WpsPB.config
[ -e ./reboot.config ] && . ./reboot.config
[ -e ./firmware.config ] && . ./firmware.config
[ -e ./ifDev.config ] && . ./ifDev.config
[ -e ./cron.config ] && . ./cron.config
[ -e ./nimf.config ] && . ./nimf.config
[ -e ./sip.config ] && . ./sip.config                      
[ -e ./telnetd.config ] && . ./telnetd.config 
[ -e ./ipset.config ] && . ./ipset.config 
[ -e ./snort_inline.config ] && . ./snort_inline.config 
[ -e ./lighttpd.config ] && . ./lighttpd.config
[ -e ./vipsec.config ] && . ./vipsec.config
[ -e ./bwLimit.config ] && . ./bwLimit.config
[ -e ./snortsam.config ] && . ./snortsam.config
[ -e ./snort.config ] && . ./snort.config
[ -e ./ips.config ] && . ./ips.config
[ -e ./nitrox.config ] && . ./nitrox.config
[ -e ./openvpn.config ] && . ./openvpn.config
[ -e ./sslvpn.config ] && . ./sslvpn.config
[ -e ./p3scan.config ] && . ./p3scan.config
[ -e ./imf.config ] && . ./imf.config
[ -e ./signatures.config ] && . ./signatures.config
[ -e ./streamAV.config ] && . ./streamAV.config
[ -e ./havp.config ] && . ./havp.config
[ -e ./urlFilter.config ] && . ./urlFilter.config
[ -e ./rip.config ] && . ./rip.config
[ -e ./switchdriver.config ] && . ./switchdriver.config
[ -e ./protectlink.config ] && . ./protectlink.config
[ -e ./ripng.config ] && . ./ripng.config
[ -e ./l2tpd.config ] && . ./l2tpd.config
[ -e ./xlr8Nat.config ] && . ./xlr8Nat.config
[ -e ./captivePortal.config ] && . ./captivePortal.config
[ -e ./intelAmt.config ] && . ./intelAmt.config
[ -e ./lm.config ] && . ./lm.config
[ -e ./qos.config ] && . ./qos.config
[ -e ./accounting.config ] && . ./accounting.config
[ -e ./cfpDaemon.config ] && . ./cfpDaemon.config
[ -e ./pkgMgmt.config ] && . ./pkgMgmt.config  
[ -e ./watchdog.config ] && . ./watchdog.config  

#open components

[ -e ./lua.config ] && . ./lua.config
[ -e ./sqlite.config ] && . ./sqlite.config
[ -e ./thttpd.config ] && . ./thttpd.config
[ -e ./kepler.config ] && . ./kepler.config
[ -e ./snmp.config ] && . ./snmp.config
[ -e ./time.config ] && . ./time.config
[ -e ./firewall.config ] && . ./firewall.config
[ -e ./ids.config ] && . ./ids.config 
[ -e ./pcsclite.config ] && . ./pcsclite.config
[ -e ./cac.config ] && . ./cac.config
[ -e ./ppp.config ] && . ./ppp.config
[ -e ./pppoe.config ] && . ./pppoe.config
[ -e ./pptp.config ] && . ./pptp.config
[ -e ./l2tpClient.config ] && . ./l2tpClient.config
[ -e ./pptpd.config ] && . ./pptpd.config
[ -e ./dproxy.config ] && . ./dproxy.config
[ -e ./tcpdump.config ] && . ./tcpdump.config
[ -e ./l2tp.config ] && . ./l2tp.config
[ -e ./cdp.config ] && . ./cdp.config
[ -e ./bonjour.config ] && . ./bonjour.config
[ -e ./8021pRemark.config ] && . ./8021pRemark.config
[ -e ./cups.config ] && . ./cups.config
[ -e ./samba.config ] && . ./samba.config
[ -e ./samba321.config ] && . ./samba321.config
[ -e ./usb_modeswitch.config ] && . ./usb_modeswitch.config

#load the user specific configuration
[ -e ./user.config ] && . ./user.config
[ -e ./fReset.config ] && . ./fReset.config
[ -e ./config.config ] && . ./config.config
[ -e ./iptables.config ] && . ./iptables.config
[ -e ./linkdetect.config ] && . ./linkdetect.config

#load verisign identity protection configuration. 
[ -e ./vsign2fctr.config ] && . ./vsign2fctr.config
[ -e ./ifgroup.config ] && . ./ifgroup.config
[ -e ./manfacCode.config ] && . ./manfacCode.config
[ -e ./wirelessCtrl.config ] && . ./wirelessCtrl.config
[ -e ./threeg.config ] && . ./threeg.config
[ -e ./statusD.config ] && . ./statusD.config
[ -e ./gre.config ] && . ./gre.config
[ -e ./auth.config ] && . ./auth.config
[ -e ./teredo.config ] && . ./teredo.config
[ -e ./openvpn_privatetunnel.config ] && . ./openvpn_privatetunnel.config
[ -e ./openvpn.config ] && . ./openvpn.config
