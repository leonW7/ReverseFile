<!--Security  Wizard -->
<?lua

require "teamf1lualib/groups_bl"


local gui_groups = require("com.teamf1.bl.userdb.groups")
?>

<div id="tf1Wizard_usersWizardDailogContent">
  <div class="topBgWizard">
    <h1 data-localize="13245">Users Wizard</h1>
    <close><a title="Close" id="btnCloseWizard" href="#">X</a></close>
  </div>
  <div class="dialogMidAreaWizard">
   	<form id="tf1Wizard_usersForm">
    <input type="hidden" name="thispage" id="tf1Wizard_thispage" value="wizard.html">

	<input type="hidden" name="button.usersWizard.wizard" id="tf1Wizard_btnConnect" value="testconnect">
    <div id="tf1Wizard_divStep1" class="divStep">
 
    <div class="wizardMessage">
        <p><span data-localize="10101">Add a New User</span></p>
    </div>
    <div class="wizardBlock">
      <h1 data-localize="13237" id="tf1Wizard_headingUser">User Configuration</h1>
      <div class="break"> &nbsp; </div>
      <div class="configRowBlocks">
        <div class="leftBlock">
          <div class="configRowWizard">
            <label data-localize="11777">New User Name </label>
            <input type="text" name="userTable.userName" id="tf1Wizard_userName" headingId="tf1Wizard_headingUser" class="wizardField" field-type="text" onkeypress="return alphaNumericCheck (event, '')" maxlength="24">
          </div>
          <div class="break"> &nbsp; </div>
          <div class="configRowWizard">
            <label data-localize="11772">New Password</label>
            <input type="password" name="userTable.password" id="tf1Wizard_password" headingId="tf1Wizard_headingUser" class="wizardField" field-type="password" maxlength="128">
          </div>
          <div class="break"> &nbsp; </div>
        </div>
        <div class="rightBlock">
          <div class="configRowWizard">
            <label data-localize="11087">Group Type</label>
<select size="1" name="userTable.groupName" id="tf1Wizard_groupType" headingId="tf1Wizard_headingUser" class="wizardField" field-type="select">
            <?lua
            local i = 0
            local ret, groupNameTable = gui_groups.groupsGetAll()
            if (groupNameTable ~= nil or #groupNameTable ~= 0) then
                for k, v in pairs (groupNameTable) do
                    i = i + 1
                    if(i ~= 3) then
                        local row = groupNameTable[i]
            ?>
            
              <option value="$|row["UserGroups.GroupName"]|$">$|row["UserGroups.GroupName"] or ''|$</option>
              <?lua
                        end
                    end
                end
              ?>
            </select>
          </div>
          <div class="break"> &nbsp; </div>
          <div class="configRowWizard">
            <label data-localize="10572">Confirm Password</label>
            <input type="password" name="conf_password" id="tf1Wizard_reTypePassword" headingId="tf1Wizard_headingUser" class="wizardField" field-type="password">
          </div>
          <div class="break"> &nbsp; </div>
        </div>
      </div>
      <div class="pagination">
          <div class="pageList"><span data-localize="13008">Step</span>: [1 <span data-localize="13836">of</span> 1] <span id="tf1Wizard_Step1StatusMessage">&nbsp;</span></div>
        <div class="prevNext">
          <input data-localize="12533" type="button" id="btSave" value="Previous" title="Previous" class="wizardBtnNext" onClick="openForm('button.add.wizard.wizard',-1,'tf1Wizard_dialogWizard','wizard','wizardForm.html', 'tf1Wizard_dashboardWizardDailogContent','');">
          <input data-localize="12758" type="button" id="btSave" value="Save" title="Save" class="wizardBtnNext" onclick="validateWizardUser()" >
        </div>
      </div>
    </div>
    
    </div></form>
    
    
    <!-- Preview -->
    
    <div id="tf1Wizard_previewDiv" style="display:none;">
    
    	<div class="wizardMessage">
            <p><span data-localize="14088">New User Added Successfully</span></p>
    </div>
    <div class="wizardBlock" id="tf1Wizard_previewBlock">
    
     
    </div>
    
 
 
  <div class="pagination">
    <div class="pageList"><span id="userStatusMessage">&nbsp;</span></div>
    <div class="prevNext">
      <input data-localize="14066" type="button" id="btSave" value="Finish" title="Finish" class="wizardBtnNext" onclick="cancelWizard()" >
    </div>
  </div>
</div>

<!-- preview step ends -->
    
    
  </div>
</div>
