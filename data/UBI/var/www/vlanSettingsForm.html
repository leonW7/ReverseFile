<?lua 
require "teamf1lualib/vlanSettings_bl"

        local inputCookie = cgi["configRowId"]
        local returnCode, cookie, ipMode 
        returnCode, ipMode = ipv6ModeGet()        
        local vlanInfoTable = {}                
        if (ButtonType and ButtonType == "edit") then
           returnCode, cookie, vlanInfoTable =  vlanSettingsGet (inputCookie) 
        else 
        vlanInfoTable["dhcpType"] = "1"
        vlanInfoTable["redirectType"] = "0"
        vlanInfoTable["dnsProxy"] = "1"
        vlanInfoTable["dhcpv6ServerMode"] = "1"
        vlanInfoTable["dhcpv6ServerDnsType"] = "1"
        vlanInfoTable["dhcpv6DomainName"] = "dlink.com"
        vlanInfoTable["dhcpv6ServerPreference"] = "255"
        vlanInfoTable["ipv6LeaseTime"] = "86400"
	end
	cgilua.header ("Content-Type", "text/html; charset=UTF-8")
?>
<div id="tf1_vlanSettingsDailogContent">
    <div class="topBg">
        <h1 data-localize="13273">VLAN Configuration</h1>
                    <close>
                        <a href="#" id="btnClose" title="Close">X</a>
                    </close>
                </div>
    <div class="dialogMidArea">
        <div class="configRow">
            <label data-localize="13274">VLAN ID </label>
            	<?lua if(cgi["configRowId"] ~= "-1") then?>
            		<p> $| vlanInfoTable["vlanId"] |$ </p>
			<?lua if (vlanInfoTable["vlanId"] == "1") then ?>
<input type="hidden" name="vlanSettings.vlanId" value="$| vlanInfoTable["vlanId"] or ''|$" class="one">
<input type="hidden" name="vlanSettings.vlanIdTemp" value="2" id="tf1_vlanId" >

			<?lua else?>
            		<input type="hidden" name="vlanSettings.vlanId" value="$| vlanInfoTable["vlanId"] or ''|$" class="one" id="tf1_vlanId">
			<?lua end?>
            	<?lua else 
                if (UNIT_NAME == 'DSR-150' or UNIT_NAME == "DSR-150N") then
                ?>
            		<input type="text" name="vlanSettings.vlanId" value="$| vlanInfoTable["vlanId"] or ''|$" id="tf1_vlanId" class="one" maxlength="2" onkeypress="return numericValueCheck (event)" onkeydown="if (event.keyCode == 9) {return numericValueRangeCheck (this, '', '', 2, 15, true, LANG_LOCALE['11374']+': ', '');}">
            <dl>
                [<span data-localize="12627">Range</span>: 2 - 15]
            </dl>
            <?lua else ?>
            		<input type="text" name="vlanSettings.vlanId" value="$| vlanInfoTable["vlanId"] or ''|$" id="tf1_vlanId" class="one" maxlength="4" onkeypress="return numericValueCheck (event)" onkeydown="if (event.keyCode == 9) {return numericValueRangeCheck (this, '', '', 2, 4093, true, LANG_LOCALE['11374']+': ', '');}">
            <dl>
                [<span data-localize="12627">Range</span>: 2 - 4093]
            </dl>
            <?lua end end?> 
        </div>
        <div class="break">
&nbsp; </div>
        <div class="configRow">
            <label data-localize="11748">Name </label>
            <?lua if(cgi["configRowId"] ~= "-1") then?>
            	<p> $| vlanInfoTable["vlanName"] or ''|$ </p>
            	<input type="hidden" name="vlanSettings.name" value="$| vlanInfoTable["vlanName"] or ''|$"  id="tf1_vlanName">
            <?lua else ?>
            	<input type="text" name="vlanSettings.name" value="$| vlanInfoTable["vlanName"] or ''|$"  id="tf1_vlanName" maxlength='25' onkeypress="return alphaNumericCheck (event, '')">
            <?lua end?>
        </div>
        <div class="break">
&nbsp; </div>
		<?lua if (UNIT_NAME == "DSR-1000N" or UNIT_NAME == "DSR-1000" or UNIT_NAME == "DSR-500N" or UNIT_NAME == "DSR-500" or PRODUCT_ID == "DSR-1000AC_Ax" or PRODUCT_ID == "DSR-500AC_Ax" or PRODUCT_ID == "DSR-1000_Bx" or PRODUCT_ID == "DSR-500_Bx") then ?>
        	<h2 data-localize="10454">Captive Portal</h2>
	      <div class="configRow" id="tf1_activateCaptivePortal_div">
	      <label data-localize="10454">Captive Portal</label>
              <?lua 
                                            	 
                    if (vlanInfoTable["captivePortalType"] == "1") then
                       statusStr="enable-disable-on"
	               statusVar = "1"
		    else
		       statusStr="enable-disable-off"
	               statusVar = "0"
                    end
                                   ?>
           <a class="$| statusStr |$" alt="" id="tf1_activateCaptivePortal"></a>
           <input type="hidden" name="vlanSettings.captivePortalType" value="$| statusVar |$">
	      </div>
	     <div class="break" id="break_captivePortal_div">
	  &nbsp;
      </div>
      <div class="configRow" id="tf1_authenticationServer_div">
            <label data-localize="10327">Authentication Server </label>
            <select id="tf1_authenticationServer" name="vlanSettings.authenticationType" onchange="authServerChangeMode('tf1_authenticationServer')">
            <option data-localize="14077" value="1" $| web.dropdownSelected(vlanInfoTable["authenticationType"] == "1") |$ >Local User Database</option>
            <option data-localize="12623" value="2" $| web.dropdownSelected(vlanInfoTable["authenticationType"] == "2") |$ >Radius Server</option>
            <option data-localize="11560" value="3" $| web.dropdownSelected(vlanInfoTable["authenticationType"] == "3") |$ >LDAP Server</option>
            <option data-localize="12462" value="4" $| web.dropdownSelected(vlanInfoTable["authenticationType"] == "4") |$ >POP3</option>
            <option data-localize="30197" value="5" $| web.dropdownSelected(vlanInfoTable["authenticationType"] == "5") |$ >Active Directory</option>
            <option data-localize="30199" value="6" $| web.dropdownSelected(vlanInfoTable["authenticationType"] == "6") |$ >NT Domain</option>
            </select> </div>
        <div class="break" id="break_authenticationServer_div">
&nbsp; </div>
        <div class="configRow" id="tf1_authenticationType_div">
            <label data-localize="10330">Authentication Type </label>
            <select id="tf1_authenticationType" name="vlanSettings.authenticationSubType" >
            <option data-localize="11898" value="1"  $| web.dropdownSelected(vlanInfoTable["authenticationSubType"] == "1") |$  >PAP</option>
            <option data-localize="10490" value="2" $| web.dropdownSelected(vlanInfoTable["authenticationSubType"] ==  "2") |$ >CHAP</option>
            <option data-localize="14076" value="3" $| web.dropdownSelected(vlanInfoTable["authenticationSubType"] ==  "3") |$ >MSCHAP</option>
            <option data-localize="14075" value="4" $| web.dropdownSelected(vlanInfoTable["authenticationSubType"] ==  "4") |$  >MSCHAPv2</option>
            </select> </div>
        <div class="break" id="break_authenticationType_div">
&nbsp; </div>
         <div class="configRow"  id="tf1_configurationName_div">
                <label data-localize="11622">Login Profile Name </label>
                <select id="tf1_configurationName" name="vlanSettings.loginProfile" >
	
		<?lua 
		local errorCode, captivePortalClientInfo = vlanSettingsCaptivePortalProfileGetAll ()
		for u,v in pairs(captivePortalClientInfo) do
		?>
                <option $| web.dropdownSelected(vlanInfoTable["loginProfile"]== v["CaptivePortalPageDetails.configurationName"]) |$ value="$| v["CaptivePortalPageDetails.configurationName"] |$">$| v["CaptivePortalPageDetails.configurationName"] |$</option>
	
		<?lua end?>
        </select> 
        <a data-localize="10615" href="?page=loginProfiles.html" class="inlineLink">Create a Profile</a>
            </div>
        <div class="break" id="break_configurationName_div">
&nbsp; </div>
        <div class="configRow" id="tf1_redirectType_div">
	                     <label data-localize="30454"> Redirect Type </label>
		        <p><input type="radio" name="vlanSettings.redirectType" $| web.radioSelected(vlanInfoTable["redirectType"]== "0") |$ value="0" ><span data-localize="11127">HTTP</span></p>
                        <p><input type="radio" name="vlanSettings.redirectType" $| web.radioSelected(vlanInfoTable["redirectType"]== "1") |$ value="1"><span data-localize="11129">HTTPS</span></p>

						</div>
						<div class="break" id="break_redirectType_div">
							&nbsp;
						</div>
        <?lua end?>
        <div class="configRow" id="tf1_activateInterVlanRouting_div">
            <label><span data-localize="30485">Activate InterVLAN</span> <br><span data-localize="12733">Routing</span> </label>
            <?lua if (vlanInfoTable["interVlanRouting"] == "1") then
                statusStr="enable-disable-on"
                statusVar = "1"
              else
                statusStr="enable-disable-off"
                statusVar = "0"
              end
            ?>
            <a class="$| statusStr |$" alt="" id="tf1_activateInterVlanRouting"></a>
            <input type="hidden"  name="vlanSettings.interVlanRouting" value="$| statusVar |$">
        </div>
        <div class="break" id="break_activateInterVlanRouting_div">
&nbsp; </div>
               <div id="tf1_multiVLANSubnetBlock_div">
            <h2 data-localize="11735">Multi VLAN Subnet</h2>
            <div class="configRow"  id="tf1_vlanSubnetIpAddress_div">
                <label data-localize="11387">IP Address </label>
                <input type="text" name="vlanSettings.ipAddress" value="$| vlanInfoTable["ipAddress"]  or '' |$" id="tf1_vlanSubnetIpAddress" onkeypress="return numericValueCheck (event, '.')"  onblur="dhcpVLANRangeAutoFill ();">
            </div>
            <div class="break" id="break_vlanSubnetIpAddress_div">
&nbsp; </div>
            <div class="configRow" id="tf1_vlanSubnetMask_div">
                <label data-localize="13017">Subnet Mask </label>
                <input type="text" name="vlanSettings.subnetMask" value="$| vlanInfoTable["subnetMask"]  or '' |$" id="tf1_vlanSubnetMask"  onkeypress="return numericValueCheck (event, '.')" onblur="dhcpVLANRangeAutoFill ();">
            </div>
        </div>
        <div class="break" id="break_multiVLANSubnetBlock_div">
&nbsp; </div>
        <div id="tf1_dhcpBlock_div">
            <h2 data-localize="10731">DHCP</h2>
            <div class="configRow" id="tf1_dhcpModeRadio_div">
                <label data-localize="10735">DHCP Mode </label>
                <p>
                <input type="radio" value="1" id="tf1_dhcpModeRadio1" name="vlanSettings.dhcpType"  $| web.radioSelected(vlanInfoTable["dhcpType"] == "1") |$  onclick="dhcpChangeMode('tf1_dhcpModeRadio1')"> 
                <span data-localize="11789">None</span> </p>
                <p>
                <input type="radio" value="2" id="tf1_dhcpModeRadio2" name="vlanSettings.dhcpType" $| web.radioSelected(vlanInfoTable["dhcpType"] == "2") |$ onclick="dhcpChangeMode('tf1_dhcpModeRadio2')"> 
                <span data-localize="10738">DHCP Server</span> </p>
                <p>
                <input type="radio" value="3" id="tf1_dhcpModeRadio3" name="vlanSettings.dhcpType"  $| web.radioSelected(vlanInfoTable["dhcpType"] == "3") |$ onclick="dhcpChangeMode('tf1_dhcpModeRadio3')"> 
                <span data-localize="10737">DHCP Relay</span> </p>
            </div>
            <div class="break" id="break1_div">
&nbsp; </div>
            <div class="configRow" id="tf1_dhcpDomainName_div">
                <label data-localize="10805">Domain Name </label>
                <input type="text"  name="vlanSettings.domainName" value="$| vlanInfoTable["domainName"]  or '' |$" id="tf1_dhcpDomainName" maxlength='256'>
            </div>
            <div class="break" id="break_dhcpDomainName_div">
&nbsp; </div>
            <div class="configRow" id="tf1_dhcpStartIp_div">
                <label data-localize="12977">Starting IP Address </label>
                <input type="text" name="vlanSettings.startIpAddress" value="$| vlanInfoTable["startIpAddress"]  or '' |$" id="tf1_dhcpStartIp" onkeypress="return numericValueCheck (event, '.')" onkeydown="if (event.keyCode == 9) { return ipv4AddrValidate (this, 'NSN', false, true, LANG_LOCALE['11281'], LANG_LOCALE['11031'], true); }">
            </div>
            <div class="break" id="break2_div">
&nbsp; </div>
            <div class="configRow" id="tf1_dhcpEndIp_div">
                <label data-localize="10929">Ending IP Address </label>
                <input type="text" name="vlanSettings.endIpAddress" value="$| vlanInfoTable["endIpAddress"]  or '' |$" id="tf1_dhcpEndIp" onkeypress="return numericValueCheck (event, '.')" onkeydown="if (event.keyCode == 9) { return ipv4AddrValidate (this, 'NSN', false, true, LANG_LOCALE['11281'], LANG_LOCALE['11031'], true); }">
            </div>
            <div class="break" id="break3_div">
&nbsp; </div>
            <div class="configRow" id="tf1_dhcpDefGateway_div">
                <label data-localize="10685">Default Gateway </label>
                <input type="text" name="vlanSettings.gateway" value="$| vlanInfoTable["gateway"]  or '' |$" id="tf1_dhcpDefGateway" maxlength="15" onkeypress="return numericValueCheck (event, '.')" onkeydown="if (event.keyCode == 9) { return ipv4AddrValidate (this, 'NSN', true, true, LANG_LOCALE['11281'], LANG_LOCALE['11031'], true); }">
            </div>
            <div class="break" id="break4_div">
&nbsp; </div>
            <div class="configRow" id="tf1_dhcpPrimaryDnsServer_div">
                <label data-localize="12537">Primary DNS Server </label>
                <input type="text" name="vlanSettings.primaryDnsServer" value="$| vlanInfoTable["primaryDnsServer"]  or '' |$" id="tf1_dhcpPrimaryDnsServer" onkeypress="return numericValueCheck (event, '.')" onkeydown="if (event.keyCode == 9) { return ipv4AddrValidate (this, 'IP', true, true, LANG_LOCALE['11281'], LANG_LOCALE['11031'], true); }">
            </div>
            <div class="break" id="break5_div">
&nbsp; </div>
            <div class="configRow" id="tf1_dhcpSecondaryDnsServer_div">
                <label data-localize="12782">Secondary DNS Server </label>
                <input type="text" name="vlanSettings.secondaryDnsServer" value="$| vlanInfoTable["secondaryDnsServer"]  or '' |$" id="tf1_dhcpSecondaryDnsServer" onkeypress="return numericValueCheck (event, '.')" onkeydown="if (event.keyCode == 9) { return ipv4AddrValidate (this, 'IP', true, true, LANG_LOCALE['11281'], LANG_LOCALE['11031'], true); }">
            </div>
            <div class="break" id="break6_div">
&nbsp; </div>
            <div class="configRow" id="tf1_dhcpLeaseTime_div">
                <label data-localize="11564">Lease Time </label>
                <input type="text" name="vlanSettings.leaseTime" value="$| vlanInfoTable["leaseTime"]  or '' |$" class="one" id="tf1_dhcpLeaseTime" maxlength="6" onkeypress="return numericValueCheck (event)" onkeydown="if (event.keyCode == 9) {return numericValueRangeCheck (this, '', '', 1, 262800, true, LANG_LOCALE['13489']+': ', LANG_LOCALE['11126']);}">
                <dl>
                    [<span data-localize="12627">Range</span>: 1 - 262800] <span data-localize="11126">Hours</span>
                </dl>
            </div>
            <div class="break" id="break7_div">
&nbsp; </div>
            <div class="configRow" id="tf1_dhcpRelayGateway_div">
                <label data-localize="12654">Relay Gateway </label>
                <input type="text" name="vlanSettings.dhcpRelayIpAddress" value="$| vlanInfoTable["dhcpRelayIpAddress"]  or '' |$" id="tf1_dhcpRelayGateway" onkeypress="return numericValueCheck (event, '.')" onkeydown="if (event.keyCode == 9) { return ipv4AddrValidate (this, 'IP', false, true, LANG_LOCALE['11281'], LANG_LOCALE['11031'], true); }">
            </div>
        </div>
        <div class="break" id="break8_div">
&nbsp; </div>
        <div id="tf1_lanProxyBlock_div">
            <h2 data-localize="11535">LAN Proxy</h2>
            <div class="configRow" id="tf1_enableDNSProxy_div">
                <label data-localize="10885">Enable DNS Proxy </label>
               <?lua if (vlanInfoTable["dnsProxy"] == "1") then
                       statusStr="enable-disable-on"
                       statusVar = "1"
                 else
                       statusStr ="enable-disable-off"
                       statusVar = "0"
                 end
              ?>
              <a class="$| statusStr |$" alt="" id="tf1_enableDNSProxy"></a>
                <input type="hidden" name="vlanSettings.dnsProxy" value="$| statusVar |$">
            </div>
        </div>
        <div class="break" id="break_lanProxyBlock_div">
&nbsp; </div>

        <?lua if (ipMode ~= "1") then ?>
        <div id="tf1_vlanIPv6Block_div">
            <h2 data-localize="50107">VLAN IPv6</h2>
            <div class="configRow" id="tf1_vlanIPv6_div">
                <label data-localize="50108">Enable VLAN IPv6 </label>
               <?lua if (vlanInfoTable["vlanIPv6"] == "1") then
                       statusStr="enable-disable-on"
                       statusVar = "1"
                 else
                       statusStr ="enable-disable-off"
                       statusVar = "0"
                 end
              ?>
              <a class="$| statusStr |$" alt="" id="tf1_vlanIPv6"></a>
              <input type="hidden" name="vlanSettings.vlanIPv6" value="$| statusVar |$">
            </div>
        </div>
        <div class="break" id="break_vlanIPv6_div"> &nbsp; </div>
        <div id="tf1_lanTCPIPSetup_div">
            <h2 data-localize="11542">LAN TCP/IP Setup</h2>
			<div class="configRow">
			    <label data-localize="13569">IPv6 Address</label>
				<input type="text" name="vlanSettings.prefix" id="tf1_ipv6_addr" value="$|vlanInfoTable["prefix"] or '' |$" maxlength="40" onkeypress="return numericValueCheck (event, 'ABCDEFabcdef:.')" onkeydown="if (event.keyCode == 9) { return ipv6AddrValidate (this, false, true, ''); }">
		    </div>
			<div class="break">	&nbsp; </div>
			<div class="configRow">
			    <label data-localize="11463">IPv6 Prefix Length</label>
				<input type="text" class="one" maxlength="3" name="vlanSettings.prefixLength" value="$|vlanInfoTable["prefixLength"] or ''|$" id="tf1_ipv6_maxlength" onkeypress="return numericValueCheck (event)" onkeydown="if (event.keyCode == 9) {return numericValueRangeCheck (this, '', '', 1, 128, true, LANG_LOCALE['11286']+': ', ''); }">
				<dl>
				    [<span data-localize="12627">Range</span>: 0 - 128]
    			</dl>
			</div>
        </div>
        <div class="break" id="break_lanTCPIPSetup_div"> &nbsp; </div>
        <div id="tf1_dhcpv6_div">
			<h2 data-localize="10741">DHCPv6</h2>
			<div class="configRow">
    		    <label data-localize="13004">Status</label>
                    <?lua
                        if (vlanInfoTable["dhcpv6Server"] == "1") then
                            statusStr="enable-disable-on"
                            statusVar = "1"
                        else
                            statusStr="enable-disable-off"
                            statusVar = "0"
                        end
                    ?>
			    <a class="$| statusStr |$" alt="" id="tf1_dhcpState" ></a>
				<input type="hidden" name="vlanSettings.dhcpv6Server" value="$| statusVar |$">
		    </div>
			<div class="break" id="break_dhcpState_div"> &nbsp; </div>
			<div class="configRow" id="tf1_stateless_div">
				<label data-localize="11720">Mode</label>
				<p>
                    <input type="radio" name="vlanSettings.dhcpv6ServerMode" id="tf1_stateless" $| web.radioSelected(vlanInfoTable["dhcpv6ServerMode"] == "1" ) |$ value="1" onclick="modeChange('tf1_stateless');">
                        <span data-localize="12989">Stateless</span>
				</p>
				<p>
                    <input type="radio" name="vlanSettings.dhcpv6ServerMode" id="tf1_stateful" $| web.radioSelected(vlanInfoTable["dhcpv6ServerMode"] == "0" ) |$ value="0" onclick="modeChange('tf1_stateful');">
                        <span data-localize="12986">Statefull</span>
				</p>
			</div>
			<div class="break" id="break_stateless_div"> &nbsp; </div>
			<div class="configRow" id="tf1_ipv6_DomName_div">
				<label data-localize="10805">Domain Name </label>
				<input type="text" name="vlanSettings.dhcpv6DomainName"id="tf1_ipv6_DomName" value="$|vlanInfoTable["dhcpv6DomainName"]or ''|$" maxlength="32" onkeydown="if (event.keyCode == 9) { return checkHostName ('tf1_ipv6_DomName', true, LANG_LOCALE['11251'], false); }">
			</div>
            <div class="break" id="break_ipv6_DomName_div">	&nbsp; </div>
            <div class="configRow" id="tf1_serpre_div">
				<label data-localize="12829">Server Preference</label>
				<input type="text" maxlength="3"name="vlanSettings.dhcpv6ServerPreference"value="$|vlanInfoTable["dhcpv6ServerPreference"] or ''|$" id="tf1_serpre" onkeypress="return numericValueCheck (event)" onkeydown="if (event.keyCode == 9) {return numericValueRangeCheck (this, '', '', 0, 255, true, LANG_LOCALE['11350']+': ', '');}" class="one">
				<dl>
					[<span data-localize="12627">Range</span>: 0 - 255]
				</dl>
			</div>
			<div class="break" id="break_serpre_div">	&nbsp; </div>
			<div class="configRow" id="tf1_DnsSvrs_div">
				<label data-localize="10799">DNS Servers</label>
				<select size="1" name="vlanSettings.dhcpv6ServerDnsType" id="tf1_DnsSvrs" onchange="dnsServerChange();">
					<option data-localize="13600" value="1" $| web.dropdownSelected(vlanInfoTable["dhcpv6ServerDnsType"] == "1" ) |$>Use DNS Proxy</option>
					<option data-localize="13601" value="3" $|web.dropdownSelected(vlanInfoTable["dhcpv6ServerDnsType"] == "3" ) |$>Use Below</option>
					<option data-localize="13602" value="2" $|web.dropdownSelected(vlanInfoTable["dhcpv6ServerDnsType"] == "2" ) |$>Use DNS from ISP</option>
			    </select>
            </div>
   			<div class="break" id="break_DnsSvrs_div"> &nbsp; </div>
			<div class="configRow" id="tf1_ipv6_PriDnsServer_div">
				<label data-localize="12537">Primary DNS Server </label>
				<input type="text" name="vlanSettings.ipV6primaryDnsServer" id="tf1_ipv6_PriDnsServer" value="$|vlanInfoTable["ipV6primaryDnsServer"] or ''|$" maxlength="40" onkeypress="return numericValueCheck (event, 'ABCDEFabcdef:.')" onkeydown="if (event.keyCode == 9) { return ipv6AddrValidate (this, false, true, ''); }">
			</div>
			<div class="break" id="break_ipv6_PriDnsServer_div"> &nbsp; </div>
			<div class="configRow" id="tf1_ipv6_SecDnsServer_div">
				<label data-localize="12782">Secondary DNS Server </label>
				<input type="text" name="vlanSettings.ipV6secondaryDnsServer" id="tf1_ipv6_SecDnsServer" value="$|vlanInfoTable["ipV6secondaryDnsServer"] or '' |$" maxlength="40" onkeypress="return numericValueCheck (event, 'ABCDEFabcdef:.')" onkeydown="if (event.keyCode == 9) { return ipv6AddrValidate (this, false, true, ''); }">
			</div>
			<div class="break" id="break_ipv6_SecDnsServer_div">	&nbsp; </div>
			<div class="configRow" id="tf1_ipv6_leasetime_div">
				<label data-localize="11562">Lease / Rebind Time</label>
				<input class="one" type="text" name="vlanSettings.ipv6LeaseTime" id="tf1_ipv6_leasetime" maxlength="6" value="$|vlanInfoTable["ipv6LeaseTime"] or ''|$" onkeypress="return numericValueCheck (event)" onkeydown="if (event.keyCode == 9) {return numericValueRangeCheck (this, '', '', 0, 604800, true, LANG_LOCALE['11290']+': ', LANG_LOCALE['12732']);}">
			    <dl>
					[<span data-localize="12627">Range</span>: 0 - 604800] <span data-localize="12732">Seconds</span>
				</dl>
            </div>
			<div class="break" id="break_ipv6_leasetime_div">	&nbsp; </div>
            <div class="configRow" id="tf1_prefix_del_div">
                <label data-localize="12524">Prefix Delegation</label>
                    <?lua
                        if (vlanInfoTable["prefixDelegation"] == "1") then
                            statusStr="enable-disable-on"
                            statusVar = "1"
                        else
                            statusStr="enable-disable-off"
                            statusVar = "0"
                        end
                    ?>
                    <a class="$| statusStr |$" alt="" id="tf1_prefix_del" ></a>
                    <input type="hidden" name="vlanSettings.prefixDelegation" value="$| statusVar |$">
            </div>
            <div class="break" id="break_prefix_del_div"> &nbsp; </div>
        </div>
        <div class="break" id="break_dhcpv6_div"> &nbsp; </div>
        <?lua end ?>
    </div>
    <div class="dialogSubmitRow">
                <input type="hidden" name="configRowId" value="$| cgi["configRowId"] or '' |$" />
                <input type="hidden" id="hdUnitName" value="$| UNIT_NAME or '' |$">     
                <?lua if(cgi["configRowId"] == "-1") then?>
        <input data-localize="12758" type="submit" name="button.add.vlanSettings" onclick="return validateVlanSettingsConfig('tf1_vlanSettingsDailogContent')" class="btnSubmit" title="Save" value="Save" id="btSave">
        <? else ?>
        <input data-localize="12758" type="submit" name="button.edit.vlanSettings" onclick="return validateVlanSettingsConfig('tf1_vlanSettingsDailogContent')" class="btnSubmit" title="Save" value="Save" id="btSave">
        <? end ?>
    </div>
</div>
