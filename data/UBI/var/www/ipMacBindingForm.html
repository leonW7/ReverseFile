<?lua 
require "teamf1lualib/ipMacBinding_bl"
    local inputCookie = cgi["configRowId"]
    local returnCode, cookie, macAddress, ipAddress, hostName, logStatus, associatingEnabled
        
    if (ButtonType and ButtonType == "edit") then
       returnCode, cookie, macAddress, ipAddress, hostName, logStatus, associatingEnabled =   ipMacBindingGet (inputCookie) 
    end    
cgilua.header ("Content-Type","text/html; charset=UTF-8")
?>
<div id="tf1_ipMacBindingDailogContent">
    <div class="topBg">
        <h1 data-localize="30453">IP/MAC Binding Configuration</h1>
                    <close>
                        <a href="#" id="btnClose" title="Close">X</a>
                    </close>
                </div>
        <div class="dialogMidArea">
            <div class="configRow">
                <label data-localize="11122">Host Name </label>
		<?lua if(cgi["configRowId"] ~= "-1") then?>
		<p>$| hostName |$</p>
                <input type="hidden" name="ipMacBinding.hostName" value="$| hostName or ''|$" value="" id="tf1_txtName" maxlength="32"> </div>
		<?lua else ?>
<input type="text" name="ipMacBinding.hostName" value="$| hostName or ''|$" value="" id="tf1_txtName" maxlength="32"> </div>
		<?lua end?>
            <div class="break">
&nbsp; </div>
            <div class="configRow">
                <label data-localize="11636">MAC Address </label>
                <input type="text" name="ipMacBinding.macAddress" value="$| macAddress or ''|$" id="tf1_txtMacAddr" maxlength="17" onkeypress="return numericValueCheck (event, 'ABCDEFabcdef:')" onkeydown="return macAddrVerify(event, this, true, LANG_LOCALE['11295'], '')">
            </div>
            <div class="break">
&nbsp; </div>
            <div class="configRow">
                <label data-localize="11387">IP Address </label>
                <input type="text" name="ipMacBinding.ipAddress" value="$| ipAddress or ''|$" id="tf1_txtIpAddr" maxlength="15" onkeypress="return numericValueCheck (event, '.')" onkeydown="if (event.keyCode == 9) { return ipv4AddrValidate (this, 'NSN', false, true, LANG_LOCALE['11281'], LANG_LOCALE['11031'], true); }">
            </div>
            <div class="break">
&nbsp; </div>
            <div class="configRow">
                <label data-localize="11613">Log Dropped Packets </label>
                           <?lua if (logStatus == "1") then
                                                       statusStr="enable-disable-on"
                                                       statusVar = "1"
                                                     else
                                                       statusStr="enable-disable-off"
                                                       statusVar = "0"
                                                     end
                                                                       ?>
                <a class="$| statusStr |$" alt=""></a>
                <input type="hidden" name="ipMacBinding.logStatus" value="$| statusVar |$"> 
            </div>
            <div class="break">
        &nbsp; </div>
           <div class="configRow">
                            <?lua 
                                     statusStr="enable-disable-off"
                                     statusVar = "0"
                            ?>
                 <input type="hidden" name="ipMacBinding.associatingEnabled" value="$| statusVar |$"> 
            </div>
            <div class="break">
        &nbsp; </div>
        </div>
        <div class="dialogSubmitRow">
                    <input type="hidden" name="configRowId" value="$| cgi["configRowId"] |$">
                    <?lua if(cgi["configRowId"] == "-1") then?>

            <input data-localize="12758" type="submit" name="button.add.ipMacBinding"onclick="return validateIpMacBingingConfig('tf1_frmIpMacBinding')" class="btnSubmit" title="Save" value="Save" id="btSave">
                    <?lua else ?>
            <input data-localize="12758" type="submit" name="button.edit.ipMacBinding"onclick="return validateIpMacBingingConfig('tf1_frmIpMacBinding'