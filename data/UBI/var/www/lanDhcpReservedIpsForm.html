<?lua 
require "teamf1lualib/lanDhcpReservedIps_bl"
    local inputCookie = cgi["configRowId"]
    local returnCode, cookie, macAddress, ipAddress
        
    if (ButtonType and ButtonType == "edit") then
       returnCode, cookie, macAddress, ipAddress, interfaceType, hostName, ipMacBinding , logStatus =  lanReservedIpsGet (inputCookie) 
    end    
cgilua.header ("Content-Type","text/html; charset=UTF-8")
?>
<div id="tf1_lanDhcpReservedIpsDailogContent">
    <div class="topBg">
        <h1 data-localize="11524">LAN DHCP Reserved IP Configuration</h1>
                    <close>
                        <a href="#" id="btnClose" title="Close">X</a>
                    </close>
                </div>
                <div class="dialogMidArea">
                    <div class="configRow" id="tf1_hostName_div">
                        <label data-localize="11122"> Host Name </label>
                    <?lua if(cgi["configRowId"] ~= "-1") then?>
                    <p>$| hostName |$</p>
                        <input type="hidden" name="lanDhcpReservedIps.hostName" value="$| hostName or ''|$" value="" id="tf1_hostName" maxlength="32"> </div>
                    <?lua else ?>
                        <input type="text" id="tf1_hostName" name="lanDhcpReservedIps.hostName" maxlength='32' value="$| hostName or "" |$"> </div>
                    <?lua end?>
                    <div class="break">
                        &nbsp;
                    </div>
                    <div class="configRow" id="tf1_ipAddr_div">
                        <label data-localize="11387"> IP Address </label>
                        <input type="text" name="lanDhcpReservedIps.ipAddress" value="$| ipAddress or '' |$" id="tf1_ipAddr" maxlength="15" onKeyPress="return numericValueCheck (event, '.')" onKeyDown="if (event.keyCode == 9) { return ipv4AddrValidate (this, 'NSN', false, true, LANG_LOCALE['11281'], LANG_LOCALE['11031'], true); }">
                    </div>
                    <div class="break">
                        &nbsp;
                    </div>
                    <div class="configRow" id="tf1_macAddr_div">
                        <label data-localize="11636"> MAC Address </label>
                        <input type="text" name="lanDhcpReservedIps.macAddress" value="$| macAddress or '' |$" maxlength="17" id="tf1_macAddr" onKeyPress="return numericValueCheck (event,'abcdefABCDEF:')" onKeyDown="return macAddrVerify (event, this, true, LANG_LOCALE['11295'], '')">
                    </div>
                    <div class="break">
                        &nbsp;
                    </div>
		    <div class="configRow">
                <label><span data-localize="30488">Associate with</span><br><span data-localize="30487">IP/MAC Binding</span></label>
                        <?lua 
                            if (ipMacBinding == "1") then
                                statusStr="enable-disable-on"
                                statusVar = "1"
                            else
                                statusStr="enable-disable-off"
                                statusVar = "0"
                            end
                        ?>
                        <a class="$| statusStr |$"  alt="" id="tf1_ipEnable"></a>
                        <input type="hidden" name="lanDhcpReservedIps.ipMacBinding" value="$| statusVar |$">
			</div>
		    <div class="break">&nbsp;</div>
		
		<div class="configRow" id="tf1_logDropPackets_div">
		    	<label data-localize="11613"> Log Dropped Packets </label>
                        <?lua 
                            if (logStatus == "1") then
                                statusStr="enable-disable-on"
                                statusVar = "1"
                            else
                                statusStr="enable-disable-off"
                                statusVar = "0"
                            end
                        ?>
                        <a class="$| statusStr |$"  alt="" id="tf1_logDropPackets"></a>
                        <input type="hidden" name="lanDhcpReservedIps.logStatus" value="$| statusVar |$">
			</div>
		    <div class="break" id="break_logDrop">&nbsp;</div>

                </div>
                <div class="dialogSubmitRow">
                    <input type="hidden" name="configRowId" value="$| cgi["configRowId"] |$">
                    <?lua if(cgi["configRowId"] == "-1") then?>
                    <input data-localize="12758" type="submit" name="button.add.lanDhcpReservedIps" onclick="return pageValidate('tf1_frmLanDhcpReservedIps')" class="btnSubmit" title="Save" value="Save" id="btSave">
                    <?lua else ?>
                    <input data-localize="12758" type="submit" name="button.edit.lanDhcpReservedIps" onclick="return pageValidate('tf1_frmLanDhcpReservedIps')" class="btnSubmit" title="Save" value="Save" id="btSave">

                    <?lua end ?>
                </div>
        
        </div>
