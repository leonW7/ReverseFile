<?lua

require "teamf1lualib/dhcpClientInfoLan_bl"
    local inputCookie = cgi["configRowId"]
    local errorFlag, cookie, macAddress, ipAddress, 
                hostName        
    if (ButtonType and ButtonType == "edit") then
       errorFlag, cookie, macAddress, ipAddress, 
                hostName =  dhcpClientInfoLanGet (inputCookie) 
    end    
cgilua.header ("Content-Type","text/html; charset=UTF-8")
?>


<div id="tf1_dhcpClientInfoLanDailogContent">
    <div class="topBg">
        <h1>IP / MAC Binding Configuration</h1>
                    <close>
                        <a href="#" id="btnClose" title="Close">X</a>
                    </close>
                </div>
    <div class="dialogMidArea">
        <div class="configRow">
            <label>Name </label>
            <input type="text" id="tf1_txtName" name="ipMacBinding.hostName" value="$| hostName |$" maxlength="32"> </div>
        <div class="break">
&nbsp; </div>
        <div class="configRow">
            <label>MAC Address </label>
            <input type="text" id="tf1_txtMacAddr"  name="ipMacBinding.macAddress" value="$| macAddress |$" maxlength="17" onkeypress="return numericValueCheck (event, 'ABCDEFabcdef:')" onkeydown="return macAddrVerify(event, this, true, 'Invalid MAC address:', '')">
        </div>
        <div class="break">
&nbsp; </div>
        <div class="configRow">
            <label>IP Address </label>
            <input type="text" id="tf1_txtIpAddr" name="ipMacBinding.ipAddress" value="$| ipAddress |$" maxlength="15" onkeypress="return numericValueCheck (event, '.')" onkeydown="if (event.keyCode == 9) { return ipv4AddrValidate (this, 'IP', false, true, 'Invalid IP address.', 'for octet ', true); }">
        </div>
        <div class="break">
&nbsp; </div>
        <div class="configRow">
            <label>Log Dropped Packets </label>
            <?lua 
                statusStr="enable-disable-off"
                statusVar = "0"
            ?>
            <a class="$| statusStr |$" alt="" ></a>
            <input type="hidden" value="$| statusVar |$" name="ipMacBinding.logStatus" >
        </div>
        <div class="break">
&nbsp; </div>
        <?lua
            --While Merging from super-ac to super code base, below code is related to super-ac
            if (PRODUCT_ID == "DSR-1000AC_Ax" or PRODUCT_ID == "DSR-500AC_Ax" or
            PRODUCT_ID == "DSR-1000_Bx" or PRODUCT_ID == "DSR-500_Bx") then
        ?>
        <div class="configRow">
            <label>Associate with DHCP <br>Reserved IP </label>
            <?lua 
                statusStr="enable-disable-off"
                statusVar = "0"
            ?>
            <a class="$| statusStr |$" alt="" ></a>
            <input type="hidden" value="$| statusVar |$" name="ipMacBinding.associatingEnabled" > 
        </div>
        <div class="break"> &nbsp; </div>
        <?lua end ?>
    </div>
    <div class="dialogSubmitRow">
                    <input type="hidden" name="configRowId" value="$| cgi["configRowId"] |$">
        <input type="submit" name="button.edit.dhcpClientInfoLan" onclick="return validateIpMacBingingConfig()" class="btnSubmit" title="Save" value="Save" id="btSave">
    </div>
</div>
